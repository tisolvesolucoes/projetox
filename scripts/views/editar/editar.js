"use strict";function verificaValorExiste(valor,id){if(valx1=valor,valx2=id,"[object Array]"===Object.prototype.toString.call(valx1))for(var i=0;i<valx1.length;i++)!function(){if(i%2==1){var valores_1=valx1[i].replace("%40","@");$('input[value="'+valores_1+'"]').attr("id");client.emit("verificaExistencia",{tipo:valores_1,userlogado:$.jStorage.get("key")},function(message){try{0!==message[0][0].ID&&alert("O e-mail "+valores_1+" já existe! "+message[0][0].ID)}catch(error){console.log("Nada consta!")}})}}();else client.emit("verificaExistencia",{tipo:valor,userlogado:$.jStorage.get("key")},function(message){1===message[0][0][1]&&(alert("celular já existe"),$(id.selector).val(""))})}function slugify(string){return string.toString().trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function montaEstadoCidade(id,estado,cidade){$.getJSON("estados_cidades.json",function(data){var options='<option value="">Selecione o Estado</option>';$.each(data,function(key,val){options+='<option value="'+val.sigla+'">'+val.nome+"</option>"}),$(".estados_"+id).html(options),$(".estados_"+id).change(function(){var options_cidades="",str="";$(".estados_"+id+" option:selected").each(function(){str+=$(this).text()}),options_cidades+='<option value="">Cidades</option>',$.each(data,function(key,val){val.nome==str&&$.each(val.cidades,function(key_city,val_city){options_cidades+='<option value="'+val_city+'">'+val_city+"</option>"})}),$(".cidades_"+id).html(options_cidades)}).change();var options_cidades2,str2;$(".estados_"+id+" option[value="+estado+"]").attr("selected","selected"),$(".estados_"+id+" option:selected").each(function(){str2+=$(this).text()}),options_cidades2+='<option value="">Cidades</option>',$.each(data,function(key,val){str2=str2.replace("undefined",""),val.nome==str2&&$.each(val.cidades,function(key_city,val_city){options_cidades2+='<option value="'+val_city+'">'+val_city+"</option>"})}),$(".cidades_"+id).html(options_cidades2),$(".cidades_"+id+"  option[value='"+cidade+"']").prop("selected",!0)})}function simpleUpload(e,l,n){function a(e){if(1==u(e)){var n=null;if(null!=b){if(void 0==b[e]||null==b[e])return void K(e,{name:"InternalError",message:"There was an error uploading the file"});n=b[e]}else if(""==l.value)return void K(e,{name:"InternalError",message:"There was an error uploading the file"});return j.length>0&&!c(j,n)?void K(e,{name:"InvalidFileExtensionError",message:"That file format is not allowed"}):k.length>0&&!v(k,n)?void K(e,{name:"InvalidFileTypeError",message:"That file format is not allowed"}):x>0&&!h(x,n)?void K(e,{name:"MaxFileSizeError",message:"That file is too big"}):void(null!=S&&null!=z?o(e):i(e))}}function o(e){if(null!=b&&void 0!=b[e]&&null!=b[e]&&window.Worker){var l=b[e];if(void 0!=l.size&&null!=l.size&&""!=l.size&&y(l.size)&&(l.slice||l.webkitSlice||l.mozSlice))try{var n=new Worker(S);n.addEventListener("error",function(){n.terminate(),R[e].hashWorker=null,i(e)},!1),n.addEventListener("message",function(l){if(l.data.result){var t=l.data.result;n.terminate(),R[e].hashWorker=null,r(e,t)}},!1);var t,a,o,s,p,f;return f=function(e){n.postMessage({message:e.target.result,block:a})},p=function(){a.end!==l.size&&(a.start+=t,a.end+=t,a.end>l.size&&(a.end=l.size),o=new FileReader,o.onload=f,l.slice?s=l.slice(a.start,a.end):l.webkitSlice?s=l.webkitSlice(a.start,a.end):l.mozSlice&&(s=l.mozSlice(a.start,a.end)),o.readAsArrayBuffer(s))},t=1048576,a={file_size:l.size,start:0},a.end=t>l.size?l.size:t,n.addEventListener("message",p,!1),o=new FileReader,o.onload=f,l.slice?s=l.slice(a.start,a.end):l.webkitSlice?s=l.webkitSlice(a.start,a.end):l.mozSlice&&(s=l.mozSlice(a.start,a.end)),o.readAsArrayBuffer(s),void(R[e].hashWorker=n)}catch(u){}}i(e)}function r(e,l){if(1==u(e)){var n=!1,t=function(l){return 1==u(e)&&(!n&&(n=!0,Y(e,100),G(e,l),!0))},a=function(){return 1==u(e)&&(!n&&(n=!0,i(e),!0))},o=function(l){return 1==u(e)&&(!n&&(n=!0,K(e,{name:"HashError",message:l}),!0))};z.call(A[e],l,{success:t,proceed:a,error:o})}}function i(n){if(1==u(n)){if(null!=b){if(void 0==b[n]||null==b[n])return void K(n,{name:"InternalError",message:"There was an error uploading the file"});if(window.FormData){var t=$.ajaxSettings.xhr();if(t.upload){var a=b[n],o=new FormData;f(o,F),o.append(C,a);var r={url:e,data:o,type:"post",cache:!1,xhrFields:T,beforeSend:function(e){R[n].xhr=e},xhr:function(){return t.upload.addEventListener("progress",function(e){e.lengthComputable&&Y(n,e.loaded/e.total*100)},!1),t},error:function(){R[n].xhr=null,K(n,{name:"RequestError",message:"Could not get response from server"})},success:function(e){R[n].xhr=null,Y(n,100),G(n,e)},contentType:!1,processData:!1};return"auto"!=E&&(r.dataType=E),void $.ajax(r)}}}"object"==typeof l&&null!==l?s(n):K(n,{name:"UnsupportedError",message:"Your browser does not support this upload method"})}}function s(l){if(0==l){var n=simpleUpload.queueIframe({origin:g(e),expect:E,complete:function(e){1==u(l)&&(R[l].iframe=null,simpleUpload.dequeueIframe(n),Y(l,100),G(l,e))},error:function(e){1==u(l)&&(R[l].iframe=null,simpleUpload.dequeueIframe(n),K(l,{name:"RequestError",message:e}))}});R[l].iframe=n;var t=p(F);J.attr("action",e+(-1==e.lastIndexOf("?")?"?":"&")+"_iframeUpload="+n+"&_="+(new Date).getTime()).attr("target","simpleUpload_iframe_"+n).prepend(t).submit()}else K(l,{name:"UnsupportedError",message:"Multiple file uploads not supported"})}function p(e,l){(void 0===l||null===l||""===l)&&(l=null);var n="";for(var t in e)void 0===e[t]||null===e[t]?n+=$("<div>").append($('<input type="hidden">').attr("name",null==l?t+"":l+"["+t+"]").val("")).html():"object"==typeof e[t]?n+=p(e[t],null==l?t+"":l+"["+t+"]"):"boolean"==typeof e[t]?n+=$("<div>").append($('<input type="hidden">').attr("name",null==l?t+"":l+"["+t+"]").val(e[t]?"true":"false")).html():"number"==typeof e[t]?n+=$("<div>").append($('<input type="hidden">').attr("name",null==l?t+"":l+"["+t+"]").val(e[t]+"")).html():"string"==typeof e[t]&&(n+=$("<div>").append($('<input type="hidden">').attr("name",null==l?t+"":l+"["+t+"]").val(e[t])).html());return n}function f(e,l,n){(void 0===n||null===n||""===n)&&(n=null);for(var t in l)void 0===l[t]||null===l[t]?e.append(null==n?t+"":n+"["+t+"]",""):"object"==typeof l[t]?f(e,l[t],null==n?t+"":n+"["+t+"]"):"boolean"==typeof l[t]?e.append(null==n?t+"":n+"["+t+"]",l[t]?"true":"false"):"number"==typeof l[t]?e.append(null==n?t+"":n+"["+t+"]",l[t]+""):"string"==typeof l[t]&&e.append(null==n?t+"":n+"["+t+"]",l[t])}function u(e){return R[e].state}function d(e,l){var n="";if(0==l)n="init";else if(1==l)n="uploading";else if(2==l)n="success";else if(3==l)n="error";else{if(4!=l)return!1;n="cancel"}R[e].state=l,A[e].upload.state=n}function m(e){var l=e.lastIndexOf(".");return-1!=l?e.substr(l+1):""}function c(e,n){if(void 0!=n&&null!=n){var t=n.name;if(void 0!=t&&null!=t&&""!=t){var a=m(t).toLowerCase();if(""!=a){var o=!1;for(var r in e)if(e[r].toLowerCase()==a){o=!0;break}return!!o}return!1}}if("object"!=typeof l||null===l)return!0;var i=l.value;if(""!=i){var a=m(i).toLowerCase();if(""!=a){var o=!1;for(var r in e)if(e[r].toLowerCase()==a){o=!0;break}if(o)return!0}}return!1}function v(e,l){if(void 0!=l&&null!=l){var n=l.type;if(void 0!=n&&null!=n&&""!=n){n=n.toLowerCase();var t=!1;for(var a in e)if(e[a].toLowerCase()==n){t=!0;break}return!!t}}return!0}function h(e,l){if(void 0!=l&&null!=l){var n=l.size;if(void 0!=n&&null!=n&&""!=n&&y(n))return e>=n}return!0}function y(e){return!isNaN(e)&&parseInt(e)+""==e}function g(e){var l=document.createElement("a");l.href=e;var n=l.host,t=l.protocol;return""==n&&(n=window.location.host),(""==t||":"==t)&&(t=window.location.protocol),t.replace(/\:$/,"")+"://"+n}var U=!1,b=null,w=0,x=0,j=[],k=[],E="auto",S=null,z=null,C="file",F={},T={},I=function(){},L=function(){},q=function(){},W=function(){},_=function(){},M=function(){},D=function(){},N=function(){},A=[],R=[],O={files:A},B=0,J=null,Q=function(e,l){V(e,l),B--,0==B&&Z(),simpleUpload.activeUploads--,simpleUpload.uploadNext()},H=function(e){return I.call(O,e)},X=function(e,l){return!(u(e)>0)&&(!1===L.call(A[e],l)?(d(e,4),!1):!(u(e)>0)&&void d(e,1))},Y=function(e,l){1==u(e)&&q.call(A[e],l)},G=function(e,l){1==u(e)&&(d(e,2),W.call(A[e],l),Q(e,"success"))},K=function(e,l){1==u(e)&&(d(e,3),_.call(A[e],l),Q(e,"error"))},P=function(e){M.call(A[e]),Q(e,"cancel")},V=function(e,l){D.call(A[e],l)},Z=function(){N.call(O),null!=J&&J.remove()};!function(){if("object"==typeof n&&null!==n){if("boolean"==typeof n.forceIframe&&(U=n.forceIframe),"function"==typeof n.init&&(I=n.init),"function"==typeof n.start&&(L=n.start),"function"==typeof n.progress&&(q=n.progress),"function"==typeof n.success&&(W=n.success),"function"==typeof n.error&&(_=n.error),"function"==typeof n.cancel&&(M=n.cancel),"function"==typeof n.complete&&(D=n.complete),"function"==typeof n.finish&&(N=n.finish),"string"==typeof n.hashWorker&&""!=n.hashWorker&&(S=n.hashWorker),"function"==typeof n.hashComplete&&(z=n.hashComplete),"object"==typeof n.data&&null!==n.data)for(var e in n.data)F[e]=n.data[e];if("number"==typeof n.limit&&y(n.limit)&&n.limit>0&&(w=n.limit),"number"==typeof n.maxFileSize&&y(n.maxFileSize)&&n.maxFileSize>0&&(x=n.maxFileSize),"object"==typeof n.allowedExts&&null!==n.allowedExts)for(var e in n.allowedExts)j.push(n.allowedExts[e]);if("object"==typeof n.allowedTypes&&null!==n.allowedTypes)for(var e in n.allowedTypes)k.push(n.allowedTypes[e]);if("string"==typeof n.expect&&""!=n.expect){var t=n.expect.toLowerCase(),o=["auto","json","xml","html","script","text"];for(var e in o)if(o[e]==t){E=t;break}}if("object"==typeof n.xhrFields&&null!==n.xhrFields)for(var e in n.xhrFields)T[e]=n.xhrFields[e]}if("object"==typeof l&&null!==l&&l instanceof jQuery){if(!(l.length>0))return!1;l=l.get(0)}if(!U&&window.File&&window.FileReader&&window.FileList&&window.Blob&&("object"==typeof n&&null!==n&&"object"==typeof n.files&&null!==n.files?b=n.files:"object"==typeof l&&null!==l&&"object"==typeof l.files&&null!==l.files&&(b=l.files)),("object"!=typeof l||null===l)&&null==b)return!1;"object"==typeof n&&null!==n&&"string"==typeof n.name&&""!=n.name?C=n.name.replace(/\[\s*\]/g,"[0]"):"object"==typeof l&&null!==l&&"string"==typeof l.name&&""!=l.name&&(C=l.name.replace(/\[\s*\]/g,"[0]"));var r=0;if(null!=b?b.length>0&&(r=b.length>1&&window.FormData&&$.ajaxSettings.xhr().upload?w>0&&b.length>w?w:b.length:1):""!=l.value&&(r=1),r>0){if("object"==typeof l&&null!==l){var i=$(l);J=$("<form>").hide().attr("enctype","multipart/form-data").attr("method","post").appendTo("body"),i.after(i.clone(!0).val("")).removeAttr("onchange").off().removeAttr("id").attr("name",C).appendTo(J)}for(var s=0;r>s;s++)!function(e){R[e]={state:0,hashWorker:null,xhr:null,iframe:null},A[e]={upload:{index:e,state:"init",file:null!=b?b[e]:{name:l.value.split(/(\\|\/)/g).pop()},cancel:function(){if(0==u(e))d(e,4);else{if(1!=u(e))return!1;d(e,4),null!=R[e].hashWorker&&(R[e].hashWorker.terminate(),R[e].hashWorker=null),null!=R[e].xhr&&(R[e].xhr.abort(),R[e].xhr=null),null!=R[e].iframe&&($("iframe[name=simpleUpload_iframe_"+R[e].iframe+"]").attr("src","javascript:false;"),simpleUpload.dequeueIframe(R[e].iframe),R[e].iframe=null),P(e)}return!0}}}}(s);var p=H(r);if(!1!==p){var f=r;if("number"==typeof p&&y(p)&&p>=0&&r>p){f=p;for(var m=f;r>m;m++)d(m,4)}for(var c=[],v=0;f>v;v++)!1!==X(v,A[v].upload.file)&&(c[c.length]=v);c.length>0?(B=c.length,simpleUpload.queueUpload(c,function(e){a(e)}),simpleUpload.uploadNext()):Z()}else{for(var m in A)d(m,4);Z()}}}()}var itensDadosPessoais,itensEndereco,dadosPessoais,endereco,emails,telefones,mSociais,instrumentosQuetoco,estilosQueCurto,fotoPerfi,conteudoDadosPessoais,conteudoEndereco,conteudoEmails,conteudoTelefones,conteudoMSociais,conteudoInstrumentosQuetoco,conteudoEstilosQueCurto,conteudoFotoPerfi,musicaPerfil,musicaPerfilList,conteudoMusicaPerfi,videoPerfil,videoPerfilList,anuncioPerfilList,anuncioPerfilList2,conteudoVideoPerfi,anuncioPerfil,conteudoAnuncioPerfi,datas,separators,tokens,logradouro,validacep,latitude,longitude,url_Parameter,url,valx1,valx2,redirect,selectedValues=[],acoes={},contentGeral=[],contentMusica=[],contentVideo=[],contentAnuncio=[];define(["app"],function(app){app.controller("editarCtrl",function($scope,$rootScope,$location){$rootScope.loading=!0,$rootScope.ischecked=!0,url_Parameter=window.location.pathname,url=url_Parameter.substring(url_Parameter.lastIndexOf("/")+1),$rootScope.questionaSessao("editar"),client.on("editar",function(message){try{if(""!=message){itensDadosPessoais=message[0][0],dadosPessoais="<form id='formGERAL'>",dadosPessoais+="<label> Nome",dadosPessoais+="<input type='text' name='nome' id='nome' value='"+message[0][0].Nome+"' />",dadosPessoais+="</label>",dadosPessoais+="<label> Sobrenome",dadosPessoais+="<input type='text' name='sobrenome' id='sobrenome' value='"+message[0][0].Sobrenome+"' />",dadosPessoais+="</label>",dadosPessoais+="<label> Username",dadosPessoais+="<input type='text' name='username' id='username' value='"+message[0][0].Username+"' />",dadosPessoais+="</label>",dadosPessoais+="<label> Senha",dadosPessoais+="<input type='password' name='senha' id='senha' value='"+message[0][0].Senha+"' />",dadosPessoais+="</label>",dadosPessoais+="<label> Aniversário",dadosPessoais+="<select name='dia' id='dia'>",dadosPessoais+="<option value='0' selected='1'>Dia</option>";for(var i=1;i<32;i++)dadosPessoais+="<option value="+i+">"+i+"</option>";dadosPessoais+="</select>",dadosPessoais+="<select name='mes' id='mes'>",dadosPessoais+="<option value='0' selected='1'>Mês</option>";for(var i=1;i<13;i++)dadosPessoais+="<option value="+i+">"+i+"</option>";dadosPessoais+="</select>",dadosPessoais+="<select name='ano' id='ano'>",dadosPessoais+="<option value='0' selected='1'>Ano</option>";for(var j=2010;j>1911;j--)dadosPessoais+="<option value="+j+">"+j+"</option>";dadosPessoais+="</select>",dadosPessoais+="</label>",dadosPessoais+="<label> Sexo",1===message[0][0].SexoUser?(dadosPessoais+="<input type='radio' name='sexo' id='masculino' value='1' checked  /> <label for='masculino'> Masculino </label>",dadosPessoais+="<input type='radio' name='sexo' id='feminino' value='2' /> <label for='feminino'> Feminino </label>"):(dadosPessoais+="<input type='radio' name='sexo' id='masculino' value='1' /> <label for='masculino'> Masculino </label>",dadosPessoais+="<input type='radio' name='sexo' id='feminino' value='2' checked /> <label for='feminino'> Feminino </label>"),dadosPessoais+="</label>",dadosPessoais+="<label> Sobre mim",null==message[0][0].Sobre?dadosPessoais+="<textarea name='sobre' id='sobre'></textarea>":dadosPessoais+="<textarea name='sobre' id='sobre'>"+message[0][0].Sobre+"</textarea>",dadosPessoais+="</label>",dadosPessoais+="<button id='btnformGERAL'>Salvar</button>",dadosPessoais+="</form>",$.template("PerfilTemplate_1",dadosPessoais),conteudoDadosPessoais=$.tmpl("PerfilTemplate_1",itensDadosPessoais),itensEndereco=message[1][0],endereco="<form id='formENDERECO'>",endereco+="<label> CEP",endereco+="<input type='text' name='CEP' id='CEP' value='"+message[1][0].CEP+"' onBlur='acoes.metodos.buscaCEP(this.value)' />",endereco+="</label>",endereco+="<label> Logradouro",endereco+="<input type='text' name='logradouro' id='logradouro' value='"+message[1][0].Logradouro+"' />",endereco+="</label>",endereco+="<label> Estado",endereco+="<input type='text' name='estado' id='estado' value='"+message[1][0].Estado+"' />",endereco+="</label>",endereco+="<label> Cidade",endereco+="<input type='text' name='cidade' id='cidade' value='"+message[1][0].Cidade+"' />",endereco+="</label>",endereco+="<label> Regiao <br>",endereco+='<select type="text" name="regiao" id="regiao">',endereco+='<option value="">Selecione a região</option>',endereco+='<option value="região norte">região norte</option>',endereco+='<option value="região sul">região sul</option>',endereco+='<option value="região leste">região leste</option>',endereco+='<option value="região oeste">região oeste</option>',endereco+='<option value="região central">região central</option>',endereco+="</select>",endereco+="</label>",endereco+="<label> Bairro",endereco+="<input type='text' name='bairro' id='bairro' value='"+message[1][0].Bairro+"' />",endereco+="</label>",endereco+="<label> Numero",endereco+="<input type='text' name='numero' id='numero' value='"+message[1][0].Numero+"' onBlur='acoes.metodos.buscaCOORDENADAS(this.value)' />",endereco+="</label>",endereco+="<label> Complemento",endereco+="<input type='text' name='complemento' id='complemento' value='"+message[1][0].Complemento+"' />",endereco+="<input type='hidden' name='latitude' id='latitude' value='"+message[1][0].Latitude+"' />",endereco+="<input type='hidden' name='longitude' id='longitude' value='"+message[1][0].Longitude+"' />",endereco+="</label>",endereco+="<button id='btnformENDERECO'>Salvar</button>",endereco+="</form>",$.template("PerfilTemplate_2",endereco),conteudoEndereco=$.tmpl("PerfilTemplate_2",itensEndereco),$('#regiao option[value="'+message[1][0].Regiao+'"]').prop("selected",!0),emails="<form id='formEMAILS'>",emails+='<button type=\'button\' onclick=\'acoes.metodos.adiciona("formEMAILS", "Emails", "emails")\'>adicionar</button>',emails+="<button id='btnformEMAILS'>Salvar</button>",emails+="</form>",$.template("PerfilTemplate_3",emails),conteudoEmails=$.tmpl("PerfilTemplate_3"),telefones="<form id='formTELEFONES'>",telefones+='<button type=\'button\' onclick=\'acoes.metodos.adiciona("formTELEFONES", "Telefones", "telefones")\'>Adicionar</button>',telefones+="<button id='btnformTELEFONES'>Salvar</button>",telefones+="</form>",$.template("PerfilTemplate_4",telefones),conteudoTelefones=$.tmpl("PerfilTemplate_4"),mSociais="<form id='formMIDIASSOCIAIS'>",mSociais+='<button type=\'button\' onclick=\'acoes.metodos.adiciona("formMIDIASSOCIAIS", "Midias Sociais", "midiasocial")\'>Adicionar</button>',mSociais+="<button id='btnformMIDIASSOCIAIS'>Salvar</button>",mSociais+="</form>",$.template("PerfilTemplate_5",mSociais),conteudoMSociais=$.tmpl("PerfilTemplate_5"),instrumentosQuetoco="<form id='formINSTRUMENTOSTOCO'>",instrumentosQuetoco+="<label> Instrumentos que toco",instrumentosQuetoco+="<select multiple>",instrumentosQuetoco+="</select>",instrumentosQuetoco+="</label>",instrumentosQuetoco+="<button type='button' id='btnformINSTRUMENTOSTOCO'>Salvar</button>",instrumentosQuetoco+="</form>",$.template("PerfilTemplate_6",instrumentosQuetoco),conteudoInstrumentosQuetoco=$.tmpl("PerfilTemplate_6"),estilosQueCurto="<form id='formESTILOSMUSICAIS'>",estilosQueCurto+="<label> Estilos musicas que curto",estilosQueCurto+="<select multiple>",estilosQueCurto+="</select>",estilosQueCurto+="</label>",estilosQueCurto+="<button type='button' id='btnformESTILOSMUSICAIS'>Salvar</button>",estilosQueCurto+="</form>",$.template("PerfilTemplate_7",estilosQueCurto),conteudoEstilosQueCurto=$.tmpl("PerfilTemplate_7"),fotoPerfi='<form id="formFoto" name="formFoto" enctype="multipart/form-data" method="post" onsubmit="return false" >',fotoPerfi+='<input type="hidden" id="pasta" value="'+message[0][0].PastasUsuario+'" />',fotoPerfi+='<input type="file" name="myFile" id="myFile" accept=".png, .jpg, .jpeg"/>',fotoPerfi+='<input type="submit" id="btnformFOTOPERFIL" disabled value="Upload Image" name="submit">',fotoPerfi+='<span id="status"></span>',fotoPerfi+="</form>",$.template("PerfilTemplate_8",fotoPerfi),conteudoFotoPerfi=$.tmpl("PerfilTemplate_8"),musicaPerfil='<form id="formMUSICA" name="formMUSICA" enctype="multipart/form-data" method="post" onsubmit="return false" >',musicaPerfil+='<input type="text" id="pasta1" value="'+message[0][0].PastasUsuario+'" />',musicaPerfil+='<input type="file" name="myFileMusic" id="myFileMusic" accept=".mp3"/>',musicaPerfil+='<input type="submit" id="btnformMUSICA" value="Upload Musica" name="btnformMUSICA">',musicaPerfil+='<span id="statusMusica"></span>',musicaPerfil+="</form>",musicaPerfil+='<div class="ContentMusicas" id="ContentMusicas" style="display: block !important">',musicaPerfil+='<div class="ContentMusicasLista" id="ContentMusicasLista" style="display: block"></div>',musicaPerfil+="</div>",$.template("PerfilTemplate_9",musicaPerfil),conteudoMusicaPerfi=$.tmpl("PerfilTemplate_9"),videoPerfil='<form id="formVIDEO" name="formVIDEO" onsubmit="return false">',videoPerfil+='<input type="text" name="myFileTitle" id="myFileTitle" placeholder="Titulo do video" />',videoPerfil+='<input type="text" name="myFileVideo" id="myFileVideo" placeholder="Embed Youtube" />',videoPerfil+='<input type="submit" id="btnformVIDEO" value="Upload Video" name="submit">',videoPerfil+='<span id="status"></span>',videoPerfil+="</form>",videoPerfil+='<div class="ContentVideos" id="ContentVideos" style="display: block !important">',videoPerfil+='<iframe name="iframe" id="iframe" src="" frameborder="0" allowfullscreen></iframe>',videoPerfil+='<div class="ContentVideosLista" id="ContentVideosLista" style="display: block"></div>',videoPerfil+="</div>",$.template("PerfilTemplate_10",videoPerfil),conteudoVideoPerfi=$.tmpl("PerfilTemplate_10"),anuncioPerfil='<form id="formANUNCIO" name="formANUNCIO" enctype="multipart/form-data" method="post" onsubmit="return false">',anuncioPerfil+='<input type="hidden" id="pastaAnuncios" value="'+message[0][0].PastasUsuario+'" />',anuncioPerfil+='<input type="text" name="tituloAnuncio" id="tituloAnuncio" value="" placeholder="Digite o titulo do anuncio" />',anuncioPerfil+='<textarea name="textoAnuncio" id="textoAnuncio" value="" placeholder="Digite uma descrição do anúncio"></textarea>',anuncioPerfil+='<select type="text" name="tipoAnuncio" id="tipoAnuncio">',anuncioPerfil+='<option value="" class="valid">Selecione o tipo de Anúncio</option>',$.each(message[11],function(key,value){anuncioPerfil+='<option value="'+value.ID+'">'+value.Anuncios+"</option>"}),anuncioPerfil+="</select>",anuncioPerfil+='<select type="text" name="estados" id="estados" class="estados"></select>',anuncioPerfil+='<select type="text" name="cidades" id="cidades" class="cidades"></select>',anuncioPerfil+='<select type="text" name="regiaoAnuncio" id="regiaoAnuncio">',anuncioPerfil+='<option value="">Selecione a região</option>',anuncioPerfil+='<option value="região norte">região norte</option>',anuncioPerfil+='<option value="região sul">região sul</option>',anuncioPerfil+='<option value="região leste">região leste</option>',anuncioPerfil+='<option value="região oeste">região oeste</option>',anuncioPerfil+='<option value="região central">região central</option>',anuncioPerfil+="</select>",anuncioPerfil+='<input type="file" id="myFileAnuncio" name="myFileAnuncio" multiple/>',anuncioPerfil+='<input type="submit" value="Upload Video" name="btnformVIDEO" id="btnformVIDEO">',anuncioPerfil+='<span id="status"></span>',anuncioPerfil+="</form>",anuncioPerfil+='<div class="ContentAnunciosLista" id="ContentAnunciosLista" style="display: block"></div>',$.template("PerfilTemplate_11",anuncioPerfil),conteudoAnuncioPerfi=$.tmpl("PerfilTemplate_11"),contentGeral=[conteudoFotoPerfi,conteudoDadosPessoais,conteudoEndereco,conteudoEmails,conteudoTelefones,conteudoMSociais,conteudoInstrumentosQuetoco,conteudoEstilosQueCurto],contentMusica=[conteudoMusicaPerfi],contentVideo=[conteudoVideoPerfi],contentAnuncio=[conteudoAnuncioPerfi],$("#mainGeral").html("Carregando ...."),$("#mainGeral").html(contentGeral),$("#mainMusicas").html("Carregando ...."),$("#mainMusicas").html(contentMusica);for(var x=0;x<message[10].length;x++)musicaPerfilList='<div id="Musica_'+message[10][x].ID+'" style="display: block !important">\n                                    <a href="javascript:;" rel="'+message[10][x].URLMusica+'"> \n                                        <img src="'+message[10][x].Imagem+'" /> \n                                    </a>\n                                    <input type="text" id="titulo" value="'+message[10][x].TituloMusica+'" placeholder="Digite o titulo da musica" />\n                                    <input type="text" id="artista" value="'+message[10][x].Artista+'" placeholder="Digite o Artista" />\n                                    <input type="text" id="genero" value="'+message[10][x].Genero+'" placeholder="Digite o Genero" />\n                                    <button onclick="acoes.metodos.removeMusicas(\'Musica_'+message[10][x].ID+"', '"+message[10][x].URLMusica+"')\"> Remover </button>\n                                    <button onclick=\"acoes.metodos.updateMusicas('Musica_"+message[10][x].ID+"')\"> Salvar </button>                                    \n                                </div>",$("#ContentMusicasLista").append(musicaPerfilList);$("#mainVideos").html("Carregando ...."),$("#mainVideos").html(contentVideo);for(var x=0;x<message[9].length;x++)videoPerfilList='<div id="video_'+message[9][x].ID+'" style="display: block !important">\n                                    <a href="https://www.youtube.com/embed/'+message[9][x].URLVideo+'?rel=0&amp;showinfo=0&autoplay=1" target="iframe"> \n                                        <img src="http://img.youtube.com/vi/'+message[9][x].URLVideo+'/default.jpg" /> \n                                    </a>\n                                    <button onclick="acoes.metodos.removeVideos(\'video_'+message[9][x].ID+"', '"+message[9][x].URLVideo+"')\"> Remover </button>\n                                    <button onclick=\"acoes.metodos.updateVideos('video_"+message[9][x].ID+'\')"> Salvar </button>\n                                    <input type="text" id="titulo" value="'+message[9][x].TituloVideo+'" placeholder="Digite o titulo do video" />\n                                </div>',$("#ContentVideosLista").append(videoPerfilList);$("#mainAnuncios").html("Carregando ...."),$("#mainAnuncios").html(contentAnuncio);for(var x=0;x<message[12].length;x++)montaEstadoCidade(message[12][x].ID,message[12][x].Estado,message[12][x].Cidade),anuncioPerfilList='<div id="anuncio_'+message[12][x].ID+'" style="display: block !important">\n                                    \n                                    <img src="'+message[12][x].URLs+'" width="100" /> \n                                   \n                                    <input type="text" id="tituloAnuncio" value="'+message[12][x].TitiloAnuncio+'" placeholder="Digite o titulo do anuncio" />                                   \n                                    <input type="text" id="textoAnuncio" value="'+message[12][x].TextoAnuncio+'" placeholder="Digite descrição do anuncio" />\n\n                                    <select id="tipoAnuncio"></select>\n                                    \n                                    <select id="estados" class="estados_'+message[12][x].ID+'"></select>\n                                    <select id="cidades" class="cidades_'+message[12][x].ID+'"></select>\n                                    <select id="regiaoAnuncio">\n                                        <option value="">Selecione a região</option>\n                                        <option value="região norte">região norte</option>\n                                        <option value="região sul">região sul</option>\n                                        <option value="região leste">região leste</option>\n                                        <option value="região oeste">região oeste</option>\n                                        <option value="região central">região central</option>\n                                    </select>\n\n                                    <label>Data Criacão: '+message[12][x].DTAtualizacao+'</label>\n                                    <input type="text" id="Criacao" value="'+message[12][x].DTCriacao+'" />\n                                    <button onclick="acoes.metodos.removeAnuncios(\'anuncio_'+message[12][x].ID+"', '"+message[12][x].URLVideo+"')\"> Remover </button>\n                                    <button onclick=\"acoes.metodos.updateAnuncios('anuncio_"+message[12][x].ID+"')\"> Salvar </button>                                    \n                                </div>",$("#ContentAnunciosLista").append(anuncioPerfilList),$.each(message[11],function(key,value){$("#anuncio_"+message[12][x].ID+" #tipoAnuncio").append('<option value="'+value.ID+'">'+value.Anuncios+"</option>")}),$("#anuncio_"+message[12][x].ID+' #tipoAnuncio option[value="'+message[12][x].IDAnuncios+'"]').prop("selected",!0),$("#anuncio_"+message[12][x].ID+' #regiaoAnuncio option[value="'+message[12][x].Regiao+'"]').prop("selected",!0);$.each(message[2],function(key,value){null!=value.ID?($("#formEMAILS").append("<label id='emails_"+value.ID+"'> Emails <input type='text' id='emails_"+value.ID+"' name='emails_"+value.ID+"' value='"+value.Emails+"' class='required emails emails_"+value.ID+"' title='Digite um e-mail válido' /> <input type='radio' id='"+value.ID+"' name='principalEmails' value='"+value.Status+"' /> <button type='button' id='emails_"+value.ID+"' onclick='acoes.metodos.remove(this, this.id)'>deletar</button> </label>"),"1"==$("label#emails_"+value.ID+' input[type="radio"]').val()&&$("label#emails_"+value.ID+' input[type="radio"]').attr("checked","checked"),""==$("label#emails_"+value.ID+' input[type="text"]').val()&&acoes.metodos.remove($("label#emails_"+value.ID+' input[type="text"]'),"emails_"+value.ID)):acoes.metodos.adiciona("formEMAILS","Emails","emails")}),$.each(message[3],function(key,value){null!=value.ID?($("#formTELEFONES").append("<label id='telefones_"+value.ID+"'> Telefones <input type='text' id='telefones_"+value.ID+"' name='telefones_"+value.ID+"' value='"+value.Telefones+"' class='required telefones' title='Campo obrigatório' /> <input type='radio' id='"+value.ID+"' name='principalTelefones' value='"+value.Status+"' /> <button type='button' id='telefones_"+value.ID+"' onclick='acoes.metodos.remove(this, this.id)'>deletar</button> </label>"),"1"==$("label#telefones_"+value.ID+' input[type="radio"]').val()&&$("label#telefones_"+value.ID+' input[type="radio"]').attr("checked","checked"),""==$("label#telefones_"+value.ID+' input[type="text"]').val()&&acoes.metodos.remove($("label#telefones_"+value.ID+' input[type="text"]'),"telefones_"+value.ID)):acoes.metodos.adiciona("formTELEFONES","Telefones","telefones")}),$.each(message[4],function(key,value){null!=value.ID?($("#formMIDIASSOCIAIS").append("\n                                    <label id='midiasocial_"+value.ID+"'> \n                                        Midias\n                                        <input type='text' name='profile' value='"+value.Profile+"' placeholder='Seu profile' />\n\n                                        <select id='midiasocial_"+value.ID+"' name='midiasocial_"+value.ID+"' class='required' title='Campo obrigatório'>\n                                            <option value=''>Selecione</option>\n                                            <option value='1'>Facebook</option>\n                                            <option value='2'>Google</option>\n                                            <option value='3'>Instagram</option>\n                                        </select>\n                                        \n                                        <button type='button' id='midiasocial_"+value.ID+"' onclick='acoes.metodos.remove(this, this.id)'>deletar</button> \n                                    </label>"),$("label#midiasocial_"+value.ID+" select#midiasocial_"+value.ID).val(value.TipoMidiaSocial),""==$("label#midiasocial_"+value.ID+' input[type="text"]').val()&&acoes.metodos.remove($("label#midiasocial_"+value.ID+' input[type="text"]'),"midiasocial_"+value.ID)):acoes.metodos.adiciona("formMIDIASSOCIAIS","Midias","midiasocial")}),$.each(message[6],function(key,value){$("#formINSTRUMENTOSTOCO select").append("<option value="+value.ID+">"+value.Instrumentos+"<option>"),$("#formINSTRUMENTOSTOCO select option").filter(function(){return!this.value||0==$.trim(this.value).length}).remove(),
$.each(message[5],function(key,value){$("#formINSTRUMENTOSTOCO select option[value="+value.ID+"]").prop("selected",!0)})}),$.each(message[8],function(key,value){$("#formESTILOSMUSICAIS select").append("<option value="+value.ID+">"+value.EstiloMusical+"<option>"),$("#formESTILOSMUSICAIS select option").filter(function(){return!this.value||0==$.trim(this.value).length}).remove(),$.each(message[7],function(key,value){$("#formESTILOSMUSICAIS select option[value="+value.ID+"]").prop("selected",!0)})}),$.each(message[0],function(key,value){var d=new Date(value.DTNascimento),date_d=(""+d.getDate()).substr(-2),date_m=(""+(d.getMonth()+1)).substr(-2),date_a=d.getFullYear();$("#formGERAL #dia option[value="+date_d+"]").prop("selected",!0),$("#formGERAL #mes option[value="+date_m+"]").prop("selected",!0),$("#formGERAL #ano option[value="+date_a+"]").prop("selected",!0)}),$("#btnformGERAL").click(function(){acoes.metodos.validaAtualizaGERAL()}),$("#btnformENDERECO").click(function(){acoes.metodos.validaAtualizaENDERECO()}),$("#btnformEMAILS").click(function(){acoes.metodos.validaAtualizaEMAILS()}),$("#btnformTELEFONES").click(function(){acoes.metodos.validaAtualizaTELEFONES()}),$("#btnformMIDIASSOCIAIS").click(function(){acoes.metodos.validaAtualizaMIDIASSOCIAIS()}),$("#btnformINSTRUMENTOSTOCO").click(function(){acoes.metodos.validaAtualizaINSTRUMENTOSTOCO()}),$("#btnformESTILOSMUSICAIS").click(function(){acoes.metodos.validaAtualizaESTILOSMUSICAIS()}),$("#username").keyup(function(){var newValue=$(this).val();$(this).val(slugify(newValue))}),$(".OpenTabs").on("click",function(){switch($(this).attr("rel")){case"openGeral":$("#usuarioEditar div").hide(),$.cookie("cookieTabs","mainGeral"),$("#mainGeral").show(500);break;case"openMusicas":$("#usuarioEditar div").hide(),$.cookie("cookieTabs","mainMusicas"),$("#mainMusicas").show(500);break;case"openVideos":$("#usuarioEditar div").hide(),$.cookie("cookieTabs","mainVideos"),$("#mainVideos").show(500);break;case"openAnuncios":$("#usuarioEditar div").hide(),$.cookie("cookieTabs","mainAnuncios"),$("#mainAnuncios").show(500)}}),$("#ContentVideos a").on("click",function(){var valor=$(this).attr("href");valor=valor.replace("https://www.youtube.com/embed/",""),valor=valor.replace("?rel=0&showinfo=0&autoplay=1",""),$.cookie("video",valor)}),$.cookie("cookieTabs")?$("#"+$.cookie("cookieTabs")).show(500):$("#mainGeral").show(500),redirect=function(newURL){$scope.$apply($location.path("/editar/"+newURL))}}else alert("Acesso negado!"),$scope.$apply($location.path("/home"));$("#btnformFOTOPERFIL").on("click",function(){var uploadFotoPerfil=document.getElementById("myFile").files[0],pasta=$("#pasta").val(),pic_size=uploadFotoPerfil.size;acoes.metodos.validaFormFotoPerfil(uploadFotoPerfil),$("#formFoto #status").html("carregando.."),$("#formFoto").valid()&&(pic_size>=1e7?(alert("grande"),$("#status").html(""),$("#myFile").val(""),$("#btnformFOTOPERFIL").prop("disabled",!0)):(client.emit("envia_foto_perfil",{pasta:pasta,imagem:uploadFotoPerfil,userlogado:$.jStorage.get("key")},function(message,key){}),$("#btnformFOTOPERFIL").prop("disabled",!0)))}),client.on("retornoFile",function(message){setTimeout(function(){"1"===message?(alert(message),$("#status").html(""),$("#myFile").val(""),$("#btnformFOTOPERFIL").prop("disabled",!0)):($("#status").html(""),$("#myFile").val(""),$("#btnformFOTOPERFIL").prop("disabled",!0),$("#imagePerfil").attr("src",message))},1500)}),$("#myFile").change(function(){$("#btnformFOTOPERFIL").prop("disabled",!1)}),$("#btnformMUSICA").on("click",function(){if(""!=$("#myFileMusic").val()){var pasta=(document.forms.namedItem("formMUSICA"),$("#pasta1").val()),audio=document.getElementById("myFileMusic").files[0];$("#statusMusica").html("Carregando..."),client.emit("envia_audio_perfil",{pasta:pasta,audio:audio,size:audio.size,type:audio.type,userlogado:$.jStorage.get("key")},function(message){alert(message)}),$("#myFileMusic").val("")}else console.log("error musica")}),client.on("retornoFileMusic",function(message){0===message?($("#statusMusica").html(""),$("#myFileMusic").val(""),alert("Audio excede tamanho máximo!!")):1===message?alert("Ops!! Erro ao enviar arquivo, tente novamente."):($("#statusMusica").html(""),alert("A página será atualizada para efetivar a inclusão"),$rootScope.moduloRadio("","updade"),$("#ContentMusicasLista").append('<div id="Musica_'+message[0][0].ID+'" style="display: block !important">\n                                    <a href="javascript:;" rel="'+message[0][0].URLMusica+'"> \n                                        <img src="'+message[0][0].Imagem+'" /> \n                                    </a>\n                                    <input type="text" id="titulo" value="'+message[0][0].TituloMusica+'" placeholder="Digite o titulo da musica" />\n                                    <input type="text" id="artista" value="'+message[0][0].Artista+'" placeholder="Digite o Artista" />\n                                    <input type="text" id="genero" value="'+message[0][0].Genero+'" placeholder="Digite o Genero" />\n                                    <button onclick="acoes.metodos.removeMusicas(\'Musica_'+message[0][0].ID+"', '"+message[0][0].URLMusica+"')\"> Remover </button>\n                                    <button onclick=\"acoes.metodos.updateMusicas('Musica_"+message[0][0].ID+"')\"> Salvar </button>                                    \n                                </div>"))}),$("#formVIDEO").submit(function(event){var inputTitle=$("#myFileTitle").val(),inputVideos=$("#myFileVideo").val();inputVideos=inputVideos.split("&")[0];var URLYoutube=inputVideos.substr(0,inputVideos.indexOf("watch")),URLVideos=inputVideos.substring(inputVideos.lastIndexOf("=")+1);"https://www.youtube.com/"===URLYoutube?($("#myFileTitle").val(""),$("#myFileVideo").val(""),client.emit("envia_video_perfil",{title:inputTitle,url:URLVideos,userlogado:$.jStorage.get("key")},function(message){"0"==message[0][0].Retorno?alert("Este video já existe"):"1"==message[0][0].Retorno?alert('Limite máximo de "20" videos atingido'):$("#ContentVideosLista").append('\n                                        <div id="video_'+message[0][0].ID+'" style="display: block">\n                                            <a href="https://www.youtube.com/embed/'+message[0][0].URLVideo+'?rel=0&amp;showinfo=0&autoplay=1" target="iframe"> <img src="http://img.youtube.com/vi/'+message[0][0].URLVideo+'/default.jpg" /> </a>\n                                            <button onclick="acoes.metodos.removeVideos(\'video_'+message[0][0].ID+"', '"+message[0][0].URLVideo+"')\"> Remover</button>\n                                            <button onclick=\"acoes.metodos.updateVideos('video_"+message[0][0].ID+'\')"> Salvar </button>\n                                            <input type="text" id="titulo" value="'+message[0][0].TituloVideo+'" placeholder="Digite o titulo do video" />\n                                        </div>\n                                    ').show()})):""==$("#myFileTitle").val()?alert("o campo deve ser preenchido"):alert("Coloque uma url válida!"),event.preventDefault()});var uploadAnuncio_1;$("#btnformVIDEO").click(function(){if(uploadAnuncio_1=document.getElementById("myFileAnuncio").files[0],acoes.metodos.validaFormAnuncio(uploadAnuncio_1),$("#formANUNCIO").valid()){var frm_titulo=$("#tituloAnuncio").val(),frm_textoAnuncio=$("#textoAnuncio").val(),frm_tipoAnuncio=$("#tipoAnuncio").val(),frm_estados=$("#estados").val(),frm_cidades=$("#cidades").val(),frm_regiaoAnuncio=$("#regiaoAnuncio").val(),frm_pasta=$("#pastaAnuncios").val();client.emit("anuncios",{titulo:frm_titulo,tipoAnuncio:frm_tipoAnuncio,estados:frm_estados,cidades:frm_cidades,regiaoAnuncio:frm_regiaoAnuncio,userlogado:$.jStorage.get("key"),textoAnuncio:frm_textoAnuncio,pasta:frm_pasta,inputFile:uploadAnuncio_1},function(eventName,message,key){"success"===eventName?alert("CONCLUIDO COM SUCESSO!"):"1"===eventName?alert(message):alert("ERRO!")})}}),client.on("retornoAnuncio",function(message){"1"==message?alert('Limite máximo de "5" anuncios atingido'):($("#ContentAnunciosLista").empty(),setTimeout(function(){for(var i=0;i<message[0].length;i++)montaEstadoCidade(message[0][i].ID,message[0][i].Estado,message[0][i].Cidade),$("#ContentAnunciosLista").append('<div id="anuncio_'+message[0][i].ID+'" style="display: block !important">\n                                        <img src="'+message[0][i].URLs+'" width="100" />                                     \n                                        <input type="text" id="tituloAnuncio" value="'+message[0][i].TitiloAnuncio+'" placeholder="Digite o titulo do anuncio" />\n\n                                        <input type="text" id="textoAnuncio" value="'+message[0][i].TextoAnuncio+'" placeholder="Digite descricao do anuncio" />\n                                                                                \n                                        <select id="tipoAnuncio"></select>\n\n                                        <select id="estados" class="estados_'+message[0][i].ID+'"></select>\n                                        <select id="cidades" class="cidades_'+message[0][i].ID+'"></select>\n                                    \n                                        <select id="regiaoAnuncio">\n                                            <option value="">Selecione a região</option>\n                                            <option value="região norte">região norte</option>\n                                            <option value="região sul">região sul</option>\n                                            <option value="região leste">região leste</option>\n                                            <option value="região oeste">região oeste</option>\n                                            <option value="região central">região central</option>\n                                        </select>\n\n                                        <label>data: '+message[0][i].DTAtualizacao+"</label>\n                                        <button onclick=\"acoes.metodos.removeAnuncios('anuncio_"+message[0][i].ID+"', '"+message[0][i].ID+"')\"> Remover </button>\n                                        <button onclick=\"acoes.metodos.updateAnuncios('anuncio_"+message[0][i].ID+"')\"> Salvar </button>                                    \n                                    </div>"),$.each(message[1],function(key,value){$("#anuncio_"+message[0][i].ID+" #tipoAnuncio").append('<option value="'+value.ID+'">'+value.Anuncios+"</option>")}),$("#anuncio_"+message[0][i].ID+' #tipoAnuncio option[value="'+message[0][i].IDAnuncios+'"]').prop("selected",!0),$("#anuncio_"+message[0][i].ID+' #regiaoAnuncio option[value="'+message[0][i].Regiao+'"]').prop("selected",!0)},100))}),$.getJSON("estados_cidades.json",function(data){var options='<option value="">Selecione o Estado</option>';$.each(data,function(key,val){options+='<option value="'+val.sigla+'">'+val.nome+"</option>"}),$(".estados").html(options),$(".estados").change(function(){var options_cidades="",str="";$(".estados option:selected").each(function(){str+=$(this).text()}),options_cidades+='<option value="">Cidades</option>',$.each(data,function(key,val){val.nome==str&&$.each(val.cidades,function(key_city,val_city){options_cidades+='<option value="'+val_city+'">'+val_city+"</option>"})}),$(".cidades").html(options_cidades)}).change()}),$('#formEMAILS input[type="radio"]').on("click",function(){$('#formEMAILS input[type="radio"]').attr("value","0"),$(this).attr("value","1").attr("checked","checked")}),$('#formTELEFONES input[type="radio"]').on("click",function(){$('#formTELEFONES input[type="radio"]').attr("value","0"),$(this).attr("value","1").attr("checked","checked")})}catch(error){console.log(error)}}),client.emit("editar",{userName:url,userlogado:$.jStorage.get("key")},function(message,key){}),$rootScope.loading=!1})}),$.validator.addMethod("regex",function(value,element,regexp){var re=new RegExp(regexp);return this.optional(element)||re.test(value)},"Verifique a informacao no campo."),acoes.metodos={adiciona:function(valor,tipo,inputs){var i,resultado;$("#"+valor+" label input[type=text]").length<3&&client.emit("last_id",{data:inputs,userlogado:$.jStorage.get("key")},function(message,eventName){resultado(inputs,message)}),resultado=function(uniq,tipos){i=uniq+"_"+tipos,"error"==tipos?alert("preencha o campo antes de adicionar um novo."):"formMIDIASSOCIAIS"==valor?$("#"+i).length<1&&$("#"+valor).append("\n                    <label id='"+uniq+"_"+tipos+"'> "+tipo+" \n                        <input type='text' name='profile' placeholder='Seu profile' />\n                        <select id='"+uniq+"_"+tipos+"' name='"+uniq+"_"+tipos+"' class='required "+uniq+"' title='Campo obrigatório'>\n                            <option value=''>Selecione</option>\n                            <option value='1'>Facebook</option>\n                            <option value='2'>Google</option>\n                            <option value='3'>Instagram</option>\n                        </select>\n                    \n                        <button type='button' id='"+uniq+"_"+tipos+"' onclick='acoes.metodos.remove("+valor+", this.id)'>deletar</button> \n                    </label>"):$("#"+i).length<1&&$("#"+valor).append("\n                    <label id='"+uniq+"_"+tipos+"'> "+tipo+"                   \n                        <input type='text' id='"+uniq+"_"+tipos+"' name='"+uniq+"_"+tipos+"' value='' class='required "+uniq+"' title='Campo obrigatório' />  \n                        <input type='radio' id='"+tipos+"' name='principal"+tipo+"' value='0' /> \n                        <button type='button' id='"+uniq+"_"+tipos+"' onclick='acoes.metodos.remove("+valor+", this.id)'>deletar</button> \n                    </label>")}},remove:function(element,id){var e=$(element).closest("form");"1"==$("label#"+id+' input[type="radio"]').val()?alert("não pode excluir o principal"):1==$("#"+e[0].id+" label input").length?alert("não pode"):(client.emit("deleta",{id:e[0].id,tipo:id,userlogado:$.jStorage.get("key")},function(eventName,message,key){}),$("#"+e[0].id+" label#"+id).remove())},removeVideos:function(value,url){var IDVideo=value.replace("video_","");$.cookie("video")==url&&$("#ContentVideos iframe").attr("src",""),client.emit("deletaVideo",{id:IDVideo,userlogado:$.jStorage.get("key")},function(message){alert(message)}),$("#ContentVideos #"+value).remove()},updateVideos:function(value){var IDVideo=value.replace("video_",""),IDTitle=$("#"+value+" #titulo").val();client.emit("updateVideo",{id:IDVideo,title:IDTitle},function(message){alert(message)})},removeMusicas:function(value,url){var IDMusica=value.replace("Musica_","");client.emit("deletaMusica",{id:IDMusica,userlogado:$.jStorage.get("key")},function(message){alert(message)}),$("#ContentMusicas #"+value).remove()},updateMusicas:function(value){var IDMusica=value.replace("Musica_",""),IDTitle=$("#"+value+" #titulo").val(),IDArtista=$("#"+value+" #artista").val(),IDGenero=$("#"+value+" #genero").val();client.emit("updateMusica",{id:IDMusica,title:IDTitle,artista:IDArtista,genero:IDGenero},function(message){alert(message)})},removeAnuncios:function(value,url){var IDAnuncio=value.replace("anuncio_","");client.emit("deletaAnuncio",{id:IDAnuncio,userlogado:$.jStorage.get("key")},function(message){alert(message)}),$("#ContentAnunciosLista #"+value).remove()},updateAnuncios:function(value){var IDAnuncio=value.replace("anuncio_",""),IDTitle=$("#"+value+" #tituloAnuncio").val(),IDTextoAnuncio=$("#"+value+" #textoAnuncio").val(),IDTipoAnuncio=$("#"+value+" #tipoAnuncio").val(),IDEstados=$("#"+value+" #estados").val(),IDCidades=$("#"+value+" #cidades").val(),IDRegiaoAnuncio=$("#"+value+" #regiaoAnuncio").val();client.emit("updateAnuncio",{id:IDAnuncio,tituloAnuncio:IDTitle,tipoAnuncio:IDTipoAnuncio,estados:IDEstados,cidades:IDCidades,regiaoAnuncio:IDRegiaoAnuncio,textoAnuncio:IDTextoAnuncio},function(message){alert(message)})},validaAtualizaGERAL:function(){$("#formGERAL").validate({rules:{nome:{required:!0},sobrenome:{required:!0},username:{required:!0},senha:{required:!0,regex:/^[A-Za-z0-9 ]{5,8}$/},dia:{required:!0},mes:{required:!0},ano:{required:!0},sexo:{required:!0}},messages:{nome:{required:"Preencha com seu nome"},sobrenome:{required:"Preencha seu sobrenome"},username:{required:"Preencha com seu Username"},senha:{required:"Digite uma senha",regex:"a senha deve conter entre 5 a 8 caracteres"},dia:{required:"Campo obrigatório"},mes:{required:"Campo obrigatório"},ano:{required:"Campo obrigatório"},sexo:{required:"Campo obrigatório"}},submitHandler:function(form){var url_Parameter=window.location.pathname,url=url_Parameter.substring(url_Parameter.lastIndexOf("/")+1),frm_nome=document.forms.formGERAL.nome.value,frm_sobrenome=document.forms.formGERAL.sobrenome.value,frm_username=document.forms.formGERAL.username.value,frm_senha=document.forms.formGERAL.senha.value,frm_dia=document.forms.formGERAL.dia.value,frm_mes=document.forms.formGERAL.mes.value,frm_ano=document.forms.formGERAL.ano.value,frm_sexo=document.forms.formGERAL.sexo.value,frm_sobre=document.forms.formGERAL.sobre.value,data=frm_dia+"/"+frm_mes+"/"+frm_ano,RegExPattern=/^((((0?[1-9]|[12]\d|3[01])[\.\-\/](0?[13578]|1[02])[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|((0?[1-9]|[12]\d|30)[\.\-\/](0?[13456789]|1[012])[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|((0?[1-9]|1\d|2[0-8])[\.\-\/]0?2[\.\-\/]((1[6-9]|[2-9]\d)?\d{2}))|(29[\.\-\/]0?2[\.\-\/]((1[6-9]|[2-9]\d)?(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00)|00)))|(((0[1-9]|[12]\d|3[01])(0[13578]|1[02])((1[6-9]|[2-9]\d)?\d{2}))|((0[1-9]|[12]\d|30)(0[13456789]|1[012])((1[6-9]|[2-9]\d)?\d{2}))|((0[1-9]|1\d|2[0-8])02((1[6-9]|[2-9]\d)?\d{2}))|(2902((1[6-9]|[2-9]\d)?(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00)|00))))$/;data.match(RegExPattern)&&""!=data?client.emit("atualiza_geral",{nome:frm_nome,sobrenome:frm_sobrenome,username:frm_username,senha:frm_senha,data:frm_ano+"-"+frm_mes+"-"+frm_dia,sexo:frm_sexo,sobre:frm_sobre,id:$.jStorage.get("key")},function(eventName,message,key){"success"===eventName?(url!=frm_username&&redirect(frm_username),alert(message)):"error"===eventName?alert(message):alert("deu ruim")}):(alert("Data inválida."),$("#dia").val(""),$("#mes").val(""),$("#ano").val(""))}})},validaAtualizaENDERECO:function(){var numero=$("#numero").val();acoes.metodos.buscaCOORDENADAS(numero),$("#formENDERECO").validate({rules:{CEP:{required:!0},logradouro:{required:!0},estado:{required:!0},cidade:{required:!0},bairro:{required:!0}},messages:{CEP:{required:"Preencha com seu CEP"},logradouro:{required:"Preencha seu Endereço"},estado:{required:"Preencha seu Estado"},cidade:{required:"Preencha com sua Cidade"},bairro:{required:"Digite seu Bairro"}},submitHandler:function(form){setTimeout(function(){var frm_CEP=document.forms.formENDERECO.CEP.value,frm_logradouro=document.forms.formENDERECO.logradouro.value,frm_estado=document.forms.formENDERECO.estado.value,frm_cidade=document.forms.formENDERECO.cidade.value,frm_regiao=document.forms.formENDERECO.regiao.value,frm_bairro=document.forms.formENDERECO.bairro.value,frm_numero=document.forms.formENDERECO.numero.value,frm_complemento=document.forms.formENDERECO.complemento.value,frm_latitude=document.forms.formENDERECO.latitude.value,frm_longitude=document.forms.formENDERECO.longitude.value;client.emit("atualiza_endereco",{cep:frm_CEP,logradouro:frm_logradouro,estado:frm_estado,cidade:frm_cidade,regiao:frm_regiao,bairro:frm_bairro,numero:frm_numero,complemento:frm_complemento,latitude:frm_latitude,longitude:frm_longitude,id:$.jStorage.get("key")},function(eventName,message,key){"success"===eventName?alert(message):"error"===eventName?alert(message):alert("deu ruim")})},500)}})},validaAtualizaEMAILS:function(){$.validator.addMethod("emails",function(value,element){return/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(value)}),$.each($("#formEMAILS input"),function(){$("#formEMAILS").validate({submitHandler:function(form){datas=$(form).serialize(),datas=datas.replace("%40","@"),separators=["\\=","\\&"],tokens=datas.split(new RegExp(separators.join("|"),"g"));var checked=$("#formEMAILS input:checked").attr("id");verificaValorExiste(tokens,$("#formEMAILS input").attr("id")),client.emit("atualiza_emails",{data:tokens,userlogado:$.jStorage.get("key"),idChecked:checked},function(eventName,message,key){alert(eventName)})}})})},validaAtualizaTELEFONES:function(){$.each($("#formTELEFONES input"),function(){$("#formTELEFONES").validate({submitHandler:function(form){datas=$(form).serialize(),separators=["\\=","\\&"],tokens=datas.split(new RegExp(separators.join("|"),"g"));var checked=$("#formTELEFONES input:checked").attr("id");verificaValorExiste(tokens,$("#formTELEFONES input").attr("id")),client.emit("atualiza_telefones",{data:tokens,userlogado:$.jStorage.get("key"),idChecked:checked},function(eventName,message,key){alert(eventName)})}})})},validaAtualizaMIDIASSOCIAIS:function(){var value=$("#formMIDIASSOCIAIS input");$.each($("#formMIDIASSOCIAIS input"),function(){$("#formMIDIASSOCIAIS").validate({submitHandler:function(form){datas=$(form).serialize(),separators=["\\=","\\&"],tokens=datas.split(new RegExp(separators.join("|"),"g"));var values=value.length;client.emit("atualiza_midiasocial",{data:tokens,userlogado:$.jStorage.get("key"),qtd:values},function(eventName,message,key){alert(eventName)})}})})},validaAtualizaINSTRUMENTOSTOCO:function(){$("#formINSTRUMENTOSTOCO :selected").each(function(){selectedValues.push($(this).val())}),client.emit("toco",{data:selectedValues,userlogado:$.jStorage.get("key")},function(eventName,message,key){alert(eventName)})},validaAtualizaESTILOSMUSICAIS:function(){$("#formESTILOSMUSICAIS :selected").each(function(){selectedValues.push($(this).val())}),client.emit("curto",{data:selectedValues,userlogado:$.jStorage.get("key")},function(eventName,message,key){alert(eventName)})},validaFormAnuncio:function(){$("#formANUNCIO").validate({rules:{titulo:{required:!0},tipoAnuncio:{required:!0},estados:{required:!0},cidades:{required:!0},regiaoAnuncio:{required:!0},textoAnuncio:{required:!0},myFileAnuncio:{required:!0}},messages:{titulo:{required:"PREENCHA O TITULO DO ANÚNCIO"},tipoAnuncio:{required:"SELECIONE O TIPO DO ANÚNCIO"},estados:{required:"SELECIONE ESTADO DO ANÚNCIO"},cidades:{required:"SELECIONE A CIDADE DO ANÚNCIO"},regiaoAnuncio:{required:"SELECIONE A REGIAO DO ANÚNCIO"},textoAnuncio:{required:"DIGITE A DESCRICAO DO ANÚNCIO"},myFileAnuncio:{required:"ESCOLHA UMA IMAGEM PARA O ANÚNCIO"}},submitHandler:function(form){return $("#tituloAnuncio").val(""),$("#tipoAnuncio").val(""),$("#estados").val(""),$("#cidades").val(""),$("#regiaoAnuncio").val(""),$("#textoAnuncio").val(""),$("#myFileAnuncio").val(""),!1}});$('input[name^="myFileAnuncio"]').rules("add",{required:!0})},validaFormFotoPerfil:function(){$("#formFoto").validate({rules:{myFile:{required:!0}},messages:{myFile:{required:"Digite seu Bairro"}},submitHandler:function(form){return $("#myFile").val(""),!1}});$('input[name^="myFile"]').rules("add",{required:!0})},buscaCEP:function(cep){cep=cep.replace(/\D/g,""),""!=cep?(validacep=/^[0-9]{8}$/,validacep.test(cep)?($("#logradouro").val("..."),$("#bairro").val("..."),$("#cidade").val("..."),$("#estado").val("..."),$.getJSON("//viacep.com.br/ws/"+cep+"/json/?callback=?",function(dados){"erro"in dados?($("#CEP").val(""),$("#estado").val(""),$("#cidade").val(""),$("#regiao").val(""),$("#bairro").val(""),$("#logradouro").val(""),$("#numero").val(""),$("#complemento").val("")):($("#logradouro").val(dados.logradouro),$("#bairro").val(dados.bairro),$("#cidade").val(dados.localidade),$("#estado").val(dados.uf),$("#regiao").val(""),$("#complemento").val(""),$("#numero").val(""),$.get("http://maps.googleapis.com/maps/api/geocode/json?address="+dados.logradouro+"&sensor=false",function(data){latitude=data.results[0].geometry.location.lat,longitude=data.results[0].geometry.location.lng,$("#latitude").val(latitude),$("#longitude").val(longitude)}))})):($("#CEP").val(""),$("#estado").val(""),$("#cidade").val(""),$("#regiao").val(""),$("#bairro").val(""),$("#logradouro").val(""),$("#numero").val(""),$("#complemento").val(""))):($("#CEP").val(""),$("#estado").val(""),$("#cidade").val(""),$("#regiao").val(""),$("#bairro").val(""),$("#logradouro").val(""),$("#numero").val(""),$("#complemento").val(""))},buscaCOORDENADAS:function(value){logradouro=$("#logradouro").val(),$.get("http://maps.googleapis.com/maps/api/geocode/json?address="+logradouro+value+"&sensor=false",function(data){latitude=data.results[0].geometry.location.lat,longitude=data.results[0].geometry.location.lng,$("#latitude").val(latitude),$("#longitude").val(longitude)})}},$(".telefones").mask("(00) 00000-0000"),$("#celular").mask("(00) 00000-0000"),$("#CEP").mask("00000-000"),simpleUpload.maxUploads=10,simpleUpload.activeUploads=0,simpleUpload.uploads=[],simpleUpload.iframes={},simpleUpload.iframeCount=0,simpleUpload.queueUpload=function(e,l){simpleUpload.uploads[simpleUpload.uploads.length]={uploads:e,callback:l}},simpleUpload.uploadNext=function(){if(simpleUpload.uploads.length>0&&simpleUpload.activeUploads<simpleUpload.maxUploads){var e=simpleUpload.uploads[0],l=e.callback,n=e.uploads.splice(0,1)[0];0==e.uploads.length&&simpleUpload.uploads.splice(0,1),simpleUpload.activeUploads++,l(n),simpleUpload.uploadNext()}},simpleUpload.queueIframe=function(e){for(var l=0;0==l||l in simpleUpload.iframes;)l=Math.floor(999999999*Math.random()+1);return simpleUpload.iframes[l]=e,simpleUpload.iframeCount++,$("body").append('<iframe name="simpleUpload_iframe_'+l+'" style="display: none;"></iframe>'),l},simpleUpload.dequeueIframe=function(e){e in simpleUpload.iframes&&($("iframe[name=simpleUpload_iframe_"+e+"]").remove(),delete simpleUpload.iframes[e],simpleUpload.iframeCount--)},simpleUpload.convertDataType=function(e,l,n){var t="auto";if("auto"==e){if("string"==typeof l&&""!=l){var a=l.toLowerCase(),o=["json","xml","html","script","text"];for(var r in o)if(o[r]==a){t=a;break}}}else t=e;if("auto"==t)return void 0===n?"":"object"==typeof n?n:String(n);if("json"==t){if(void 0===n||null===n)return null;if("object"==typeof n)return n;if("string"==typeof n)try{return $.parseJSON(n)}catch(i){return!1}return!1}if("xml"==t){if(void 0===n||null===n)return null;if("string"==typeof n)try{return $.parseXML(n)}catch(i){return!1}return!1}if("script"==t){if(void 0===n)return"";if("string"==typeof n)try{return $.globalEval(n),n}catch(i){return!1}return!1}return void 0===n?"":String(n)},simpleUpload.iframeCallback=function(e){if("object"==typeof e&&null!==e){var l=e.id;if(l in simpleUpload.iframes){var n=simpleUpload.convertDataType(simpleUpload.iframes[l].expect,e.type,e.data);!1!==n?simpleUpload.iframes[l].complete(n):simpleUpload.iframes[l].error("Could not get response from server")}}},simpleUpload.postMessageCallback=function(e){try{var l=e.message?"message":"data",n=e[l];if("string"==typeof n&&""!=n&&"object"==typeof(n=$.parseJSON(n))&&null!==n&&"string"==typeof n.namespace&&"simpleUpload"==n.namespace){var t=n.id;if(t in simpleUpload.iframes&&e.origin===simpleUpload.iframes[t].origin){var a=simpleUpload.convertDataType(simpleUpload.iframes[t].expect,n.type,n.data);!1!==a?simpleUpload.iframes[t].complete(a):simpleUpload.iframes[t].error("Could not get response from server")}}}catch(e){}},window.addEventListener?window.addEventListener("message",simpleUpload.postMessageCallback,!1):window.attachEvent("onmessage",simpleUpload.postMessageCallback),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.fn.simpleUpload=function(l,n){return 0==e(this).length&&"object"==typeof n&&null!==n&&"object"==typeof n.files&&null!==n.files?(new simpleUpload(l,null,n),this):this.each(function(){new simpleUpload(l,this,n)})},e.fn.simpleUpload.maxSimultaneousUploads=function(e){return void 0===e?simpleUpload.maxUploads:"number"==typeof e&&e>0?(simpleUpload.maxUploads=e,this):void 0}});
//# sourceMappingURL=editar.js.map